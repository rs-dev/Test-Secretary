{% extends "base.html" %}

{% load i18n %}

{% block main %}

  <h1>{{ app }}</h1>

  {% for section in app.active_sections %}
    <h3>{{ section.name }}</h3>
    {% if section.active_testcases.count %}
      <table class="table table-bordered table-striped">
        <thead>
          <th>#</th>
          <th>{% trans "Name" %}</th>
          <th>{% trans "Description" %}</th>
          <th>{% trans "Preconditions" %}</th>
        </thead>
        <tbody>
          {% for testcase in section.active_testcases %}
            <tr>
              <td>{{ testcase.number }}</td>
              <td>{{ testcase.name }}</td>
              <td>{{ testcase.description|linebreaksbr }}</td>
              <td>
                {% if testcase.preconditions.count %}
                  <ul>
                    {% for precondition in testcase.preconditions.all %}
                      <li><a href"#{{ precondition.pk }}">{{ precondition.name }}</a></li>
                    {% endfor %}
                  </ul>
                {% endif %}
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <div class="alert alert-info">
        No testcases in this sections
      </div>
    {% endif %}
  {% empty %}
    <div class="alert alert-info">
      No sections in this app
    </div>
  {% endfor %}

{% endblock %}
